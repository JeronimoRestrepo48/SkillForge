{% load core_extras %}
<li class="list-group-item d-flex justify-content-between align-items-center py-3">
    <div class="d-flex align-items-center">
        {% if item.curso.imagen %}
        <img src="{{ item.curso.imagen.url }}" alt="{{ item.curso.titulo|sin_certificacion }}" class="rounded me-3" style="width: 64px; height: 64px; object-fit: cover;">
        {% else %}
        <div class="bg-light rounded d-flex align-items-center justify-content-center me-3" style="width: 64px; height: 64px;">
            <i class="bi bi-journal-bookmark text-muted" aria-hidden="true"></i>
        </div>
        {% endif %}
        <div>
            <a href="{% url 'catalog:course_detail' item.curso.pk %}" class="fw-semibold text-decoration-none text-dark">{{ item.curso.titulo|sin_certificacion }}</a>
            <p class="text-muted small mb-0">{{ item.curso.categoria.nombre }} Â· {{ item.curso.calcular_precio_final }} COP c/u</p>
        </div>
    </div>
    <div class="d-flex align-items-center gap-2">
        <span class="text-nowrap">{{ item.subtotal }} COP</span>
        <form method="post" action="{% url 'transactions:cart_remove' item.curso.pk %}" class="d-inline">
            {% csrf_token %}
            <button type="submit" class="btn btn-outline-danger btn-sm" aria-label="Quitar del carrito"><i class="bi bi-trash"></i></button>
        </form>
    </div>
</li>
